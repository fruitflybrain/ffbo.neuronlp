[
{"branch": "flycircuit"},
{
  "show_1": {
    "keyword": "Show",
    "script": [
      ["notify", {"message": "Hi there!"}],
      ["notify", {"message": "Let's query for local neurons in the left antennal lobe that express glutamate neurotransmitter!"}],
      ["search", {"query": "show glutamatergic local neurons in the left antennal lobe"}],
      ["notify", {"message": "'Show' always clears the visualization panel before visualizing the neurons in the query!"}],
      ["notify", {"message": "Let's try using 'Show' again."}],
      ["search", {"query": "Show local neurons in the Ellipsoid Body"}],
      ["notify", {"message": "Done. Compare this to the 'Add' demo!", "pause": 1000}],
      ["notify", {"message": "Try it yourself!", "pause": 0}]
    ],
    "description": "Clear the work space and visualize neurons according to a specific query.",
    "category": "Basic English Queries (Supported Verbs)"
  },
  "add_1": {
    "keyword": "Add",
    "script": [
      ["notify", {"message": "Hi!"}],
      ["notify", {"message": "Let's query for local neurons in the left antennal lobe that express glutamate neurotransmitter!"}],
      ["search", {"query": "show glutamatergic local neurons in the left antennal lobe"}],
      ["notify", {"message": "'Add' visualizes the neurons in the query on top of what's in the visualization panel!"}],
      ["notify", {"message": "Let's try using adding some neurons."}],
      ["search", {"query": "Add local neurons in the Ellipsoid Body"}],
      ["notify", {"message": "Done", "pause": 1000}],
      ["notify", {"message": "It is all yours now! Try it yourself!", "pause": 0}]
    ],
    "description": "In addition to what is currently displayed, visualize the neurons according to a specific query",
    "category": "Basic English Queries (Supported Verbs)"
  },
  "undo_1": {
    "keyword": "Undo",
    "script": [
      ["notify", {"message": "Hi!"}],
      ["notify", {"message": "Let's query for neurons in the ellipsoid body!"}],
      ["search", {"query": "Show local neurons in eb"}],
      ["notify", {"message": "Now let's add neurons in the optic glomeruli."}],
      ["search", {"query": "Add neurons in og"}],
      ["notify", {"message": "Now let's undo what we just did."}],
      ["search", {"query": "Undo"}],
      ["notify", {"message": "Now let's add neurons from the PB."}],
      ["search", {"query": "Add local neurons in PB"}],
      ["notify", {"message": "Done", "pause": 1000}],
      ["notify", {"message": "It is all yours now! Try it yourself!", "pause": 0}]
    ],
    "description": "Go back to a previous step (UNDO).",
    "category": "Basic English Queries (Supported Verbs)"
  },
  "keep_1": {
    "keyword": "Keep",
    "script": [
      ["notify", {"message": "Hi!"}],
      ["notify", {"message": "Let's query for local neurons from the entire caudoventrolateral protocerebrum!"}],
      ["search", {"query": "Show local neurons in cvlp"}],
      ["notify", {"message": "Now let's only keep known fruitless neurons and remove the rest."}],
      ["search", {"query": "Keep fruitless neurons in cvlp"}],
      ["notify", {"message": "Done", "pause": 1000}],
      ["notify", {"message": "It is all yours now! Try it yourself!", "pause": 0}]
    ],
    "description": "Filter neurons in the current visualization panel based on a specific query.",
    "category": "Basic English Queries (Supported Verbs)"
  },
  "remove_1": {
    "keyword": "Remove",
    "script": [
      ["notify", {"message": "Hi!"}],
      ["notify", {"message": "Let's query for local neurons from the right antennal lobe!"}],
      ["search", {"query": "Show local neurons in right al"}],
      ["notify", {"message": "Now let's only remove the projection neurons."}],
      ["search", {"query": "Remove glutamatergic neurons from the right al"}],
      ["notify", {"message": "Done", "pause": 1000}],
      ["notify", {"message": "It is all yours now! Try it yourself!", "pause": 0}]
    ],
    "description": "Remove neurons from the current visualization panel based on a specific query.",
    "category": "Basic English Queries (Supported Verbs)"
  },
  "pinunpin_1": {
    "keyword": "Pin/Unpin",
    "script": [
      ["notify", {"message": "Hi!"}],
      ["notify", {"message": "Let's query for neurons innervating the right antennal lobe!"}],
      ["search", {"query": "Show neurons in right al"}],
      ["notify", {"message": "Now let's pin the local neurons."}],
      ["search", {"query": "Pin local neurons in the right al"}],
      ["notify", {"message": "Now let's unpin glutamatergic neurons."}],
      ["search", {"query": "Unpin glutamatergic neurons"}],
      ["notify", {"message": "Done", "pause": 1000}],
      ["notify", {"message": "It is all yours now! Try it yourself!", "pause": 0}]
    ],
    "description": "Pin (Persistently highlight) or Unpin neurons in the current visualization panel based on a specific query.",
    "category": "Basic English Queries (Supported Verbs)"
  },
  "hide_1": {
    "keyword": "Hide/unhide",
    "script": [
      ["notify", {"message": "Hi!"}],
      ["notify", {"message": "Let's query for dopaminergic local neurons in the right medulla."}],
      ["search", {"query": "Show dopaminergic local neurons in the right medulla"}],
      ["notify", {"message": "Let's add GABAergic local neurons in the left medulla."}],
      ["search", {"query": "add gabaergic local neurons in the left medulla"}],
      ["notify", {"message": "Now let's hide the dopaminergic neurons."}],
      ["search", {"query": "hide dopaminergic neurons"}],
      ["notify", {"message": "Now let's reveal all the local neurons in medulla that is in the visualization panel."}],
      ["search", {"query": "unhide local neurons in medulla"}],
      ["notify", {"message": "Done", "pause": 1000}],
      ["notify", {"message": "It is all yours now! Try it yourself!", "pause": 0}]
    ],
    "description": "Hide or reveal neurons in the current visualization panel based on a specific query.",
    "category": "Basic English Queries (Supported Verbs)"
  },
  "color_1": {
    "keyword": "Color",
    "script": [
      ["notify", {"message": "Hi!"}],
      ["notify", {"message": "Let's query for local neurons from the right antennal lobe!"}],
      ["search", {"query": "Show local neurons in right al"}],
      ["notify", {"message": "Now let's color them red."}],
      ["search", {"query": "Color red"}],
      ["notify", {"message": "If only a color is specified, the last queried neurons will be colored."}],
      ["notify", {"message": "Neurons to be colored can also be specified. For example, we can color GABAergic neurons blue, using the hex code for blue."}],
      ["search", {"query": "Color gabaergic neurons 0000FF"}],
      ["notify", {"message": "Done", "pause": 1000}],
      ["notify", {"message": "It is all yours now! Try it yourself!", "pause": 0}]
    ],
    "description": "Color neurons in the current visualization panelvisualization panel based on a specific query",
    "category": "Basic English Queries (Supported Verbs)"
  },
  "clear_1": {
    "keyword": "Clear",
    "script": [
      ["notify", {"message": "Hi!"}],
      ["notify", {"message": "Let's query for local neurons from the right antennal lobe!"}],
      ["search", {"query": "Show local neurons in right al"}],
      ["notify", {"message": "Now we clear the visualization panel."}],
      ["search", {"query": "Clear"}],
      ["notify", {"message": "Done", "pause": 1000}],
      ["notify", {"message": "It is all yours now! Try it yourself!", "pause": 0}]
    ],
    "description": "Clear out the visualization panel.",
    "category": "Basic English Queries (Supported Verbs)"
  },
  "neuropil_menu": {
    "script": [
      ["notify", {"message": "The Neuropil menu accessible from the Header Bar lists all neuropils."}],
      ["notify", {"message": "This menu can be used to control the neuropils displayed in the visualization panel."}],
      ["notify", {"message": "First we hide all neuropils"}],
      ["click", {"menu": {"type": "lpuHideAll"}}],
      ["notify", {"message": "Next we toggle a few neuropils"}],
      ["click", {"menu": {"type": "lpuToggle", "label": "Right AMMC"}}],
      ["click", {"menu": {"type": "lpuToggle", "label": "PB"}}],
      ["click", {"menu": {"type": "lpuToggle", "label": "Left MB"}}],
      ["notify", {"message": "Finally we show all neuropils"}],
      ["click", {"menu": {"type": "lpuShowAll"}}],
      ["notify", {"message": "Done! Try it yourself!", "pause": 0}]
    ],
    "keyword": "Neuropil Menu",
    "description": "Access the list of neuropils.",
    "category": "GUI Usage"
  },
  "neuron_menu": {
    "script": [
      ["notify", {"message": "The Neurons/Synapses menu accessible from the Header Bar lists all neurons and synapses visualized in the visualization panel."}],
      ["notify", {"message": "It is useful to highlight, hide, pin neurons of interest when the view in the visualization panel becomes cluttered."}],
      ["notify", {"message": "First we visualize some neurons."}],
      ["search", {"query": "show neurons connecting right optu to left optu"}],
      ["notify", {"message": "Now we open the Neurons/Synapses Menu and click on one of the neurons"}],
      ["click", {"menu": {"type": "neuClick", "label": "Gad1-F-900362"}}],
      ["notify", {"message": "This has the same effect of clicking on the neuron in the 3D visualization."}],
      ["notify", {"message": "and brings up the info panel for this neuron."}],
      ["notify", {"message": "We can hide the neuron"}],
      ["click", {"menu": {"type": "visToggle", "label": "Gad1-F-900362"}}],
      ["notify", {"message": "reveal the neuron"}],
      ["click", {"menu": {"type": "visToggle", "label": "Gad1-F-900362"}}],
      ["notify", {"message": "pin the neuron"}],
      ["click", {"menu": {"type": "pinToggle", "label": "Gad1-F-900362"}}],
      ["notify", {"message": "unpin the neuron"}],
      ["click", {"menu": {"type": "pinToggle", "label": "Gad1-F-900362"}}],
      ["notify", {"message": "and delete the neuron"}],
      ["click", {"menu": {"type": "remove", "label": "Gad1-F-900362"}}],
      ["notify", {"message": "Done! Try it yourself!", "pause": 0}]
    ],
    "keyword": "Neurons/Synapses Menu",
    "description": "Access the list of neurons and synapses in the visualization panel to highlight, retrieve info of, pin, hide and delete individual neurons.",
    "category": "GUI Usage"
  },
  "pin_select_highlight": {
    "script": [
      ["notify", {"message": "You can use your mouse to navigate through neurons in the visualization panel."}],
      ["notify", {"message": "Let's first bring up neurons in the Ellipsoid Body!"}],
      ["search", {"query": "Show local neurons in the Ellipsoid Body"}],
      ["notify", {"message": "To highlight a neuron, move mouse cursor onto the displayed neuron."}],
      ["highlight", {"label": "VGlut-F-200478"}],
      ["notify", {"message": "Let's try another neuron."}],
      ["highlight", {"label": "Gad1-F-700047"}],
      ["notify", {"message": "To obtain the detailed info about this neuron, single click on the neuron."}],
      ["click", {"label": "Gad1-F-700047"}],
      ["notify", {"message": "Info Panel on the left will display basic info of the neuron, and the synaptic partners of the neuron. Check out the 'Info Panel' demo for more information on how to use the Info Panel", "pause": 10000}],
      ["notify", {"message": "Double-clicking a neuron pins the neuron."}],
      ["pin", {"label": "Gad1-F-700047"}],
      ["highlight", {"label": "VGlut-F-200478"}],
      ["notify", {"message": "Double-clicking it again to unpin."}],
      ["pin", {"label": "Gad1-F-700047"}],
      ["notify", {"message": "Done! Try it yourself!", "pause": 0}]
    ],
    "keyword": "Pin/Select/Highlight",
    "description": "Mouse operations in the visualization panel to highlight, retrieve info of, pin and delete individual neurons.",
    "category": "GUI Usage"
  },
  "gui_buttons": {
    "script": [
      ["notify", {"message": "Here we show the function of the buttons on the top right."}],
      ["notify", {"message": "Clicking on the <i class=\"fa fa-info-circle\"><\/i> button, the GUI Usage Info will pop out."}],
      ["click", {"uiBtn": {"type": "showInfo"}}],
      ["notify", {"message": "Now let's make a simple query"}],
      ["search", {"query": "show neurons connecting right antennal lobe to right lateral horn"}],
      ["search", {"query": "add local neurons in right lateral horn"}],
      ["notify", {"message": "We can use the <i class=\"fa fa-align-justify\"><\/i> button zoom into the neurons visualized."}],
      ["click", {"uiBtn": {"type": "resetVisibleView"}}],
      ["notify", {"message": "Let's take a screenshot of the visualization using the <i class=\"fa fa-camera\"><\/i> button ."}],
      ["click", {"uiBtn": {"type": "takeScreenshot"}}],
      ["notify", {"message": "We can reset the view to the original by clicking on <i class=\"fa fa-refresh\"><\/i> button."}],
      ["click", {"uiBtn": {"type": "resetView"}}],
      ["notify", {"message": "Now we will pin some of the neurons"}],
      ["search", {"query": "pin local neurons in right lateral horn"}],
      ["notify", {"message": "We can hide everything but the pinned neurons using the <i class=\"fa fa-eye-slash\"><\/i> button"}],
      ["click", {"uiBtn": {"type": "hideAll"}}],
      ["notify", {"message": "and reveal everything in the visualization panel using the <i class=\"fa fa-eye\"><\/i> button"}],
      ["click", {"uiBtn": {"type": "showAll"}}],
      ["notify", {"message": "We can remove all neurons except the pinned neurons by the <i class=\"fa fa-trash\"><\/i> button"}],
      ["click", {"uiBtn": {"type": "removeUnpin"}}],
      ["notify", {"message": "To remove pinned neurons but keep unpinned neurons, you will need to use the Neurons/Synapses Menu."}],
      ["click", {"menu": {"type": "pinRemove"}}],
      ["notify", {"message": "Done! Try it yourself!", "pause": 0}]
    ],
    "keyword": "Visualization Panel Buttons",
    "description": "Function of the GUI button <i class=\"fa fa-trash\"><\/i> <i class=\"fa fa-eye-slash\"><\/i> <i class=\"fa fa-eye\"><\/i> <i class=\"fa fa-align-justify\"><\/i> <i class=\"fa fa-refresh\"><\/i> <i class=\"fa fa-info-circle\"><\/i> <i class=\"fa fa-camera\"><\/i> on the top right.",
    "category": "GUI Usage"
  },
  "connectivity_1": {
    "script": [
      ["notify", {"message": "Let's explore some inferred connectivity (using the SPIN algorithm ) in the central complex", "pause": 1000}],
      ["notify", {"message": "Let's add some neurons from the central complex to the scene", "pause": 2000}],
      ["notify", {"message": "We first add some tentative EB ring neurons", "pause": 2000}],
      ["search", {"query": "show neurons connecting lat to eb"}],
      ["search", {"query": "color red"}],
      ["notify", {"message": "We then add some tentative EPG, PEG and PEN neurons", "pause": 2000}],
      ["search", {"query": "add neurons with inputs in the ellipsoid body and outputs in both pb and idfp"}],
      ["search", {"query": "color blue"}],
      ["search", {"query": "add neurons with inputs in pb and outputs in both eb and idfp"}],
      ["search", {"query": "color lime"}],
      ["search", {"query": "add neurons with inputs in pb and outputs in eb and noduli"}],
      ["search", {"query": "color yellow"}],
      ["notify", {"message": "Now let's open Graph View to see the neuronal graph with the <i class=\"fa fa-bar-chart\"><\/i> button.", "pause": 6000}],
      ["click", {"uiBtn": {"type": "showGraph"}}],
      ["notify", {"message": "Now let's download the inferred connectivity between these neurons by using the <i class='fa fa-download'></i> button", "pause": 1000}],
      ["click", {"uiBtn": {"type": "downData"}, "waitForUI": true}],
      ["notify", {"message": "Done! Try it yourself!", "pause": 5000}]
    ],
    "keyword": "Graph View / Connectivity Buttons",
    "description": "Explore the connectivity of visualized neurons with <i class=\"fa fa-cubes\"><\/i> <i class=\"fa fa-bar-chart\"><\/i> <i class=\"fa fa-download\"><\/i> buttons",
    "category": "GUI Usage"
  },
  "visualization_settings": {
    "script": [
      ["notify", {"message": "The settings menu can be accessed by clicking on <i class='fa fa-cog'></i> icon on the top right"}],
      ["click", {"uiBtn": {"type": "showSettings"}}],
      ["notify", {"message": "Browse through the setting to see what settings can be customized."}],
      ["notify", {"message": "Done! Try it yourself!", "pause": 0}]
    ],
    "keyword": "Visualization Settings",
    "description": "Open Visualization Settings <i class=\"fa fa-cog\"><\/i> to change background color, neuropil color, how neurons are rendered, etc.",
    "category": "GUI Usage"
  },
  "query_reference": {
    "script": [
      ["notify", {"message": "A reference of supported English queries can be found by clicking on the <i class=\"glyphicon glyphicon-info-sign\"><\/i> button left to the search bar."}],
      ["click", {"selector": "#info_btn"}],
      ["notify", {"message": "Done! Try it yourself!", "pause": 0}]
    ],
    "keyword": "Query Reference",
    "description": "Open query reference <i class=\"glyphicon glyphicon-info-sign\"><\/i>.",
    "category": "GUI Usage"
  },
  "infopanel": {
    "script": [
      ["notify", {"message": "Info Panel provides all information available of a neuron."}],
      ["search", {"query": "show local neurons in EB"}],
      ["notify", {"message": "Simply click on the neuron in the visualization panel or from the Neurons/Synapses menu to bring up its information."}],
      ["click", {"label": "Gad1-F-700047"}],
      ["notify", {"message": "You can bring up one of pre- and post-synaptic partner by clicking on the + button in the list of partners."}],
      ["click", {"selector": "#btn-pre-add-TH-F-100029"}],
      ["notify", {"message": "You can bring up all of its pre- and post-synaptic partner according to the filtered value."}],
      ["click", {"selector": "#presyn-N"}],
      ["click", {"selector": "#btn-pre-add-all-neuron"}],
      ["notify", {"message": "Done! Try it yourself!", "pause": 0}]
    ],
    "keyword": "Info Panel",
    "description": "Bring up Info Panel for the neuron to access detail information abou the neuron and its synaptic partners.",
    "category": "GUI Usage"
  },
  "neurotransmitter_1": {
    "keyword": "Query by Neurotransmitter Type.",
    "script": [
      ["notify", {"message": "Hi!"}],
      ["notify", {"message": "Let's query for serotonergic neurons in the Ellipsoid Body!"}],
      ["search", {"query": "Show serotonergic local neurons in eb"}],
      ["notify", {"message": "Let's bring in glutamatergic neurons in the Ellipsoid Body!"}],
      ["search", {"query": "Add glutamatergic local neurons in eb"}],
      ["notify", {"message": "Let's add cholinergic neurons in the Ellipsoid Body!"}],
      ["search", {"query": "Add cholinergic local neurons in eb"}],
      ["notify", {"message": "Let's also have dopaminergic neurons in the Ellipsoid Body!"}],
      ["search", {"query": "Add dopaminergic local neurons in eb"}],
      ["notify", {"message": "Finally, let's add gabaergic neurons in the Ellipsoid Body!"}],
      ["search", {"query": "Add gabaergic local neurons in eb"}],
      ["notify", {"message": "Done", "pause": 1000}],
      ["notify", {"message": "It is all yours now! Try it yourself!", "pause": 0}]
    ],
    "description": "Show serotonegic local neurons in the Ellipsoid Body, and sequentially add glutamatergic, cholinergic, dopaminergic and gabaergic neurons.",
    "category": "Basic Queries"
  },
  "connecting_1": {
    "keyword": "Tract-based Queries",
    "script": [
      ["notify", {"message": "Hi!"}],
      ["notify", {"message": "Let's query for neurons projecting from right Lobula to left optic glomerulus!"}],
      ["search", {"query": "Show neurons connecting right lob to left og"}],
      ["notify", {"message": "Done", "pause": 1000}],
      ["notify", {"message": "It is all yours now! Try it yourself!", "pause": 0}]
    ],
    "description": "Show neurons projecting from right Lobula to left optic glomerulus.",
    "category": "Basic Queries"
  },
  "innervating_1": {
    "keyword": "Queries based on Innervations/Arborizations",
    "script": [
      ["notify", {"message": "Hi!"}],
      ["notify", {"message": "Let's query for neurons innervating optic glomerulus!"}],
      ["search", {"query": "Show neurons innervating optic glomerulus"}],
      ["notify", {"message": "Done", "pause": 1000}],
      ["notify", {"message": "It is all yours now! Try it yourself!", "pause": 0}]
    ],
    "description": "Visualize neurons innervating the optic glomerulus.",
    "category": "Basic Queries"
  },
  "dendrite_axon_1": {
    "keyword": "Queries based on Dendritic Innervations/Arborizations",
    "script": [
      ["notify", {"message": "Hi!"}],
      ["notify", {"message": "Let's query for neurons that have inputs in the right lateral horn!"}],
      ["search", {"query": "Show neurons having inputs in right lateral horn"}],
      ["notify", {"message": "Done", "pause": 1000}],
      ["notify", {"message": "It is all yours now! Try it yourself!", "pause": 0}]
    ],
    "description": "Visualize neurons with dendrites in the right lateral horn.",
    "category": "Basic Queries"
  },
  "dendrite_axon_2": {
    "keyword": "Queries based on Axon/Dendrite Arborizations",
    "script": [
      ["notify", {"message": "Hi!"}],
      ["notify", {"message": "Let's query for neurons that have dendrites in al and axons in both right lh and left lh!"}],
      ["search", {"query": "Show neurons having dendrites in al and axons in both right lh and left lh"}],
      ["notify", {"message": "Done", "pause": 1000}],
      ["notify", {"message": "It is all yours now! Try it yourself!", "pause": 0}]
    ],
    "description": "Visualize neurons connecting antennal lobe to both left and right lateral horn.",
    "category": "Basic Queries"
  },
  "lptc": {
    "keyword": "Lobula Plate Tangential Cells",
    "script": [
      ["notify", {"message": "Hi!"}],
      ["notify", {"message": "It is known that Lobula Plate Tangential Cells are an essential component of optomotor responses."}],
      ["notify", {"message": "Let's try and find some  LPTCs from the FlyCircuit data:"}],
      ["search", {"query": "show neurons connecting the left lop to the left cvlp"}],
      ["notify", {"message": "Now let's add neurons from the other side of the brain."}],
      ["search", {"query": "add neurons connecting the right lop to the right cvlp"}],
      ["notify", {"message": "Now let's select from the visualization panel some tangential cells and pin them."}],
      ["pin", {"label": "VGlut-F-400392"}],
      ["select", {"label": "VGlut-F-400392"}],
      ["pin", {"label": "VGlut-F-700175"}],
      ["pin", {"label": "fru-F-400542"}],
      ["pin", {"label": "VGlut-F-800153"}],
      ["pin", {"label": "Cha-F-200097"}],
      ["pin", {"label": "VGlut-F-500650"}],
      ["pin", {"label": "VGlut-F-300353"}],
      ["pin", {"label": "VGlut-F-300501"}],
      ["pin", {"label": "VGlut-F-100111"}],
      ["pin", {"label": "fru-F-100144"}],
      ["pin", {"label": "fru-F-300055"}],
      ["pin", {"label": "VGlut-F-200199"}],
      ["pin", {"label": "VGlut-F-300567"}],
      ["pin", {"label": "VGlut-F-000601"}],
      ["pin", {"label": "VGlut-F-700450"}],
      ["pin", {"label": "VGlut-F-000241"}],
      ["select", {"label": "VGlut-F-000241"}],
      ["notify", {"message": "Let's remove the unpinned neurons."}],
      ["click", {"uiBtn":{"type": "removeUnpin"}}],
      ["notify", {"message": "And unpin all the pinned neurons."}],
      ["click", {"menu": {"type": "unpinAll"}}],
      ["notify", {"message": "Now let's hide the neurons one by one"}],
      ["click", {"menu": {"type": "visToggle", "label": "Cha-F-200097"}}],
      ["click", {"menu": {"type": "visToggle", "label": "VGlut-F-000241"}}],
      ["click", {"menu": {"type": "visToggle", "label": "VGlut-F-000601"}}],
      ["click", {"menu": {"type": "visToggle", "label": "VGlut-F-100111"}}],
      ["click", {"menu": {"type": "visToggle", "label": "VGlut-F-200199"}}],
      ["click", {"menu": {"type": "visToggle", "label": "VGlut-F-300353"}}],
      ["click", {"menu": {"type": "visToggle", "label": "VGlut-F-300501"}}],
      ["click", {"menu": {"type": "visToggle", "label": "VGlut-F-300567"}}],
      ["click", {"menu": {"type": "visToggle", "label": "VGlut-F-400392"}}],
      ["click", {"menu": {"type": "visToggle", "label": "VGlut-F-500650"}}],
      ["click", {"menu": {"type": "visToggle", "label": "VGlut-F-700175"}}],
      ["click", {"menu": {"type": "visToggle", "label": "VGlut-F-700450"}}],
      ["click", {"menu": {"type": "visToggle", "label": "VGlut-F-800153"}}],
      ["click", {"menu": {"type": "visToggle", "label": "fru-F-100144"}}],
      ["click", {"menu": {"type": "visToggle", "label": "fru-F-300055"}}],
      ["click", {"menu": {"type": "visToggle", "label": "fru-F-400542"}}],
      ["notify", {"message": "Let's bring back one of the neurons!"}],
      ["click", {"menu": {"type": "visToggle", "label": "VGlut-F-000241"}}],
      ["notify", {"message": "Done", "pause": 1000}],
      ["notify", {"message": "Try exploring detailed information from the Info Panel!", "pause": 0}]
    ],
    "description": "Query for Lobula Plate Tangential Cells.",
    "category": "Advanced Demonstrations"
  },
  "fig2b": {
    "script": [
      ["notify", {"message": "The Lobula Plate Tangential Cells (LPTCs) are essential elements in the fly optomotor pathway. Two types of LPTCs have been the subject of intensive investigation. However, more than 20 anatomical classes of LPTCs are known in the blowfly (Hausen, 1984, Fig. 3). Little is known about the existence and if exist, the function the their homologies in the fruit fly visual system. Here we use NeuroNLP to identify LPTCs that may exist in the FlyCircuit data, and their anatomical classes.",
                  "pause": 20000, "timeout": 25000}],
      ["notify", {"message": "Most of the literature shows that LPTCs have extensive dendritic arborizations in the lobula plate (LOP) and can terminate either in the contralateral LOP, or in the ipsilateral and/or contralateral caudal ventrolateral protocerebrum (CVLP)",
                  "pause": 15000, "timeout": 20000}],
      ["notify", {"message": "We first search for the former.",
                  "pause": 5000, "timeout": 6000}],
      ["search", {"query": "show neurons connecting left lop to right lop"}],
      ["search", {"query": "add neurons connecting right lop to left lop"}],
      ["notify", {"message": "We found two types of neurons based on their morphology",
                  "pause": 6000, "timeout": 8000}],
      ["notify", {"message": "The first type resembles the H1 neurons",
                  "pause": 4000, "timeout": 8000}],
      ["click", {"label": "VGlut-F-600437", "pause": 3000}],
      ["notify", {"message": "The other two neurons are possibly of an unknown type or V3."}],
      ["pin", {"label": "fru-F-100023"}],
      ["pin", {"label": "VGlut-F-200081"}],
      ["click", {"label": "VGlut-F-200081", "pause": 3000}],
      ["notify", {"message": "We now search for LPTCs that connect to ipsilateral CVLP.",
                  "pause": 4000, "timeout": 8000}],
      ["search", {"query": "show neurons connecting left lop to left cvlp"}],
      ["search", {"query": "add neurons connecting right lop to right cvlp"}],
      ["pin", {"label": "Gad1-F-500082"}],
      ["pin", {"label": "VGlut-F-000241"}],
      ["pin", {"label": "VGlut-F-000601"}],
      ["pin", {"label": "VGlut-F-100111"}],
      ["pin", {"label": "VGlut-F-100226"}],
      ["pin", {"label": "VGlut-F-300501"}],
      ["pin", {"label": "VGlut-F-300567"}],
      ["pin", {"label": "VGlut-F-700450"}],
      ["pin", {"label": "fru-F-100144"}],
      ["pin", {"label": "fru-F-300055"}],
      ["pin", {"label": "Cha-F-200097"}],
      ["pin", {"label": "VGlut-F-000672"}],
      ["pin", {"label": "VGlut-F-300353"}],
      ["pin", {"label": "VGlut-F-400392"}],
      ["pin", {"label": "VGlut-F-500650"}],
      ["pin", {"label": "VGlut-F-700175"}],
      ["pin", {"label": "VGlut-F-800153"}],
      ["pin", {"label": "fru-F-400542"}],
      ["notify", {"message": "Let's remove the unpinned neurons.",
                  "pause": 6000, "timeout": 10000}],
      ["click", {"uiBtn":{"type": "removeUnpin"}}],
      ["notify", {"message": "And unpin all the pinned neurons."}],
      ["click", {"menu": {"type": "unpinAll"}}],
      ["notify", {"message": "Among these we have CH cells, whose cell bodies are characteristically located around the oesophagus.",
                  "pause": 3000, "timeout": 20000}],
      ["pin", {"label": "VGlut-F-000241"}],
      ["pin", {"label": "VGlut-F-000601"}],
      ["pin", {"label": "VGlut-F-300567"}],
      ["pin", {"label": "VGlut-F-400392"}],
      ["pin", {"label": "VGlut-F-700175"}],
      ["pin", {"label": "VGlut-F-700450"}],
      ["notify", {"message": "Next we highlight a VS cell.",
                  "pause": 3000, "timeout": 20000}],
      ["click", {"menu": {"type": "unpinAll"}}],
      ["pin", {"label": "VGlut-F-500650"}],
      ["notify", {"message": "Then we have an unknown type but its arborization in Lobula plate resembles V1 cells.",
                  "pause": 3000, "timeout": 20000}],
      ["click", {"menu": {"type": "unpinAll"}}],
      ["pin", {"label": "Gad1-F-500082"}],
      ["pin", {"label": "VGlut-F-000672"}],
      ["pin", {"label": "VGlut-F-100226"}],
      ["pin", {"label": "VGlut-F-500650"}],
      ["notify", {"message": "and a type of LPTC that has vertical arborization pattern.",
                  "pause": 3000, "timeout": 20000}],
      ["pin", {"label": "VGlut-F-100111"}],
      ["pin", {"label": "VGlut-F-300501"}],
      ["pin", {"label": "fru-F-100144"}],
      ["pin", {"label": "fru-F-300055"}],
      ["pin", {"label": "Cha-F-200097"}],
      ["pin", {"label": "VGlut-F-300353"}],
      ["pin", {"label": "VGlut-F-800153"}],
      ["pin", {"label": "fru-F-400542"}],
      ["notify", {"message": "Next, we search for LPTCs that sends to the contralateral CVLP.",
                  "pause": 5000, "timeout": 10000}],
      ["search", {"query": "show neurons connecting left lop to right cvlp"}],
      ["search", {"query": "add neurons connecting right lop to left cvlp"}],
      ["notify", {"message": "We found one neuron resembling H2 neuron.",
                  "pause": 5000, "timeout": 10000}],
      ["click", {"label": "Gad1-F-300086", "pause": 5000}],
      ["notify", {"message": "and some resembling H3 neuron.",
                  "pause": 5000, "timeout": 10000}],
      ["click", {"label": "Cha-F-400265"}],
      ["notify", {"message": "and some resembling H4 neuron.",
                  "pause": 5000, "timeout": 10000}],
      ["pin", {"label": "VGlut-F-200199"}],
      ["pin", {"label": "VGlut-F-300218"}],
      ["notify", {"message": "Done! Explore it yourself!", "pause": 5000}]
    ],
    "neuron3d": true,
    "keyword": "Fig 2b. Lobula Plate Tangential Cells",
    "description": "Defining subclasses of the Lobula Plate Tangential Cells.",
    "category": "Exploring the structure of 2 figures in 'The Fruit Fly Brain Observatory: From Structure to Function'. DOI: 10.1101/580290"
  },
  "fig2c": {
    "script": [
      ["notify", {"message": "In Fischbach and Dittrich (1989), only one type of Lobula Plate (LOP) local neuron was observed. Mauss et al. (2015) identified two types of glutamatergic inhibitory local neurons that bi-stratify in layers 3/4 of Lobula Plate (LPi neurons), including the one mentioned in Fischbach and Dittrich (1989). With NeuroNLP, we ask if we can further expand the local neuron cell types in the LOP.",
                   "pause": 15000, "timeout": 20000}],
      ["notify", {"message": "We first query glutamatergic neurons in the LOP and select neurons that resemble the tiling pattern of LPi 3-4 neurons.",
                  "pause": 6000, "timeout": 8000}],
      ["search", {"query": "show glutamatergic local neurons in lop"}],
      ["notify", {"message": "Here, we observe that there are some neurons that have smaller arborization fields that matches the description of LPi 3-4 in Mauss et al. (2015). We pick out these neurons in the left LOP and look at their tiling pattern.",
                  "pause": 10000, "timeout": 20000}],
      ["pin", {"label": "VGlut-F-200148"}],
      ["pin", {"label": "VGlut-F-400799"}],
      ["pin", {"label": "VGlut-F-700448"}],
      ["pin", {"label": "VGlut-F-300631"}],
      ["pin", {"label": "VGlut-F-600708"}],
      ["pin", {"label": "VGlut-F-700612"}],
      ["pin", {"label": "VGlut-F-000500"}],
      ["pin", {"label": "VGlut-F-000543"}],
      ["pin", {"label": "VGlut-F-200515"}],
      ["pin", {"label": "VGlut-F-400319"}],
      ["pin", {"label": "VGlut-F-700176"}],
      ["notify", {"message": "We also observe that there are neurons that have elongated arborization field that stretch through the lobula plate in dorsal-ventral axis. We pin a few of them in the right LOP so that they tile the LOP.",
                  "pause": 10000, "timeout": 15000}],
      ["pin", {"label": "VGlut-F-400337"}],
      ["pin", {"label": "VGlut-F-000480"}],
      ["pin", {"label": "VGlut-F-700028"}],
      ["pin", {"label": "VGlut-F-700060"}],
      ["click", {"uiBtn":{"type": "removeUnpin"}}],
      ["click", {"menu": {"type": "unpinAll"}}],
      ["notify", {"message": "Are there any other local neurons in the LOP?",
                  "pause": 5000, "timeout": 10000}],
      ["search", {"query": "show GABAergic local neurons in lop"}],
      ["notify", {"message": "It looks like there are a few GABAergic local neurons, with similar shapes as glutamatergic local neurons.",
                  "pause": 10000, "timeout": 10000}],
      ["search", {"query": "show cholinergic local neurons in lop"}],
      ["notify", {"message": "There are also more cholinergic local neurons of similar shapes as glutamatergic local neurons. However, from the sample of neurons in the database, glutamatergic neurons are majority of local neurons in the LOP.",
                  "pause": 10000, "timeout": 10000}],
      ["notify", {"message": "Done! Explore it yourself!", "pause": 5000}]
    ],
    "neuron3d": true,
    "keyword": "Fig 2c. LPi neurons",
    "description": "Discovering a new type of LPi local neuron in the Lobula Plate.",
    "category": "Exploring the structure of 2 figures in 'The Fruit Fly Brain Observatory: From Structure to Function'. DOI: 10.1101/580290"
  },
  "fig3b": {
    "script": [
      ["notify", {"message": "In Sun et al. (2017), a two-stage visual pathway  between the medulla and the bulb (BU, or lateral triangle) was uncovered. This identifies potential sources of visual input to ring neurons that links BU and EB, a neuropil that is believed to maintain an internal compass of the fly. We can inspect this pathway by a few queries and GUI operations",
                   "pause": 15000, "timeout": 20000}],
      ["search", {"query": "show neurons that connect right OPTU to right LAT"}],
      ["notify", {"message": "This query results in 1 neuron referred to as TB neuron in Sun et al. (2017)",
                  "pause": 5000, "timeout": 6000}],
      ["search", {"query": "add neurons that connect left optu and left lat"}],
      ["notify", {"message": "We found 4 GABAergic TB neurons",
                  "pause": 5000, "timeout": 10000}],
      ["click", {"label": "Gad1-F-200129", "pause": 3000}],
      ["click", {"label": "Gad1-F-000099", "pause": 3000}],
      ["click", {"label": "Gad1-F-000140", "pause": 3000}],
      ["click", {"label": "Gad1-F-100297", "pause": 3000}],
      ["notify", {"message": "and 1 cholinergic TB neuron",
                  "pause": 5000, "timeout": 10000}],
      ["click", {"label": "Cha-F-100383", "pause": 3000}],
      ["notify", {"message": "Note that previous experiments have only shown that TB neurons are excitatory, as ex vivo optogenetic activation of a TB neuron led to increased calcium activity in ring neurons (Sun et al., 2017). The results of these two queries suggest that additional experiments are necessary to dissect the input signals to ring neurons.",
                  "pause": 18000, "timeout": 20000}],
      ["notify", {"message": "Now  we  can  inspect  the  inferred  postsynaptic neurons of these TB neuron.",
                  "pause": 5000, "timeout": 6000}],
      ["click", {"label": "Gad1-F-200129", "pause": 3000}],
      ["notify", {"message": "We add one neuron that resemble the Ring neuron",
                  "pause": 5000, "timeout": 6000}],
      ["click", {"selector": "#btn-post-add-Gad1-F-000086", "pause": 3000}],
      ["click", {"label": "Cha-F-100383", "pause": 3000}],
      ["notify", {"message": "We add two more Ring neurons",
                  "pause": 5000, "timeout": 6000}],
      ["click", {"selector": "#btn-post-add-Gad1-F-600032", "pause": 2000}],
      ["click", {"selector": "#btn-post-add-Gad1-F-000169", "pause": 2000}],
      ["notify", {"message": "This suggests that indeed the TB neuron putatively provide inputs to ring neurons.",
                  "pause": 8000, "timeout": 9000}],
      ["notify", {"message": "We now inspect the TB neuron’s inferred presynaptic partners.",
                  "pause": 5000, "timeout": 6000}],
      ["click", {"label": "Gad1-F-000140", "pause": 3000}],
      ["notify", {"message": "We add one neuron that projects from Medulla",
                  "pause": 5000, "timeout": 6000}],
      ["click", {"selector": "#btn-pre-add-Cha-F-300436", "pause": 3000}],
      ["click", {"label": "Gad1-F-100297", "pause": 3000}],
      ["notify", {"message": "We add another neuron that projects from Medulla",
                  "pause": 5000, "timeout": 6000}],
      ["click", {"selector": "#btn-pre-add-Cha-F-000377", "pause": 3000}],
      ["search", {"query": "add neurons that connect left medulla to left optu"}],
      ["search", {"query": "add neurons that connect right MED to right OPTU"}],
      ["notify", {"message": "We found two distinct populations of neurons projecting from Medulla to OPTU. The first population project to the ventral proximal parts of the OPTU, overlapping with the area where TB neurons extend their dendrites. These neurons seem to match the description of the MT neurons (Sun et al, 2017). They have large dendritic arborization in the middle layers of medulla - potentially in layer 6 where they receive color visual information. A majority of them are cholinergic, but a few others are GABAergic.",
                  "pause": 15000, "timeout": 20000}],
      ["notify", {"message": "A second population project their axons to more dorsal part of the OPTU. Their dendrite innervate only the proximal medulla and are restricted in the parts of medulla that receive visual infornation from the lower back sides of the eyes.",
                  "pause": 15000, "timeout": 20000}],
      ["notify", {"message": "We remove the second population of neurons that innervate the upper part of OPTU. Many of them are <i>fru</i> expressing neurons.",
                  "pause": 8000, "timeout": 9000}],
      ["search", {"query": "remove fru expressing neurons"}],
      ["click", {"menu": {"type": "remove", "label": "Gad1-F-900198" }, "pause": 3000}],
      ["click", {"menu": {"type": "remove", "label": "Gad1-F-900119"}, "pause": 3000}],
      ["click", {"menu": {"type": "remove", "label": "npf-F-500000"}, "pause": 3000}],
      ["notify", {"message": "We add a few putative presynaptic neurons that receive contralateral inputs.",
                  "pause": 5000, "timeout": 10000}],
      ["click", {"menu": {"type": "neuClick", "label": "Gad1-F-000140"}, "pause": 3000}],
      ["click", {"selector": "#btn-pre-add-VGlut-F-500489", "pause": 1000}],
      ["click", {"selector": "#btn-pre-add-VGlut-F-000145", "pause": 1000}],
      ["click", {"selector": "#btn-pre-add-VGlut-F-000019", "pause": 1000}],
      ["click", {"selector": "#btn-pre-add-VGlut-F-200242", "pause": 1000}],
      ["click", {"selector": "#btn-pre-add-VGlut-F-100151", "pause": 1000}],
      ["click", {"selector": "#btn-pre-add-Gad1-F-700269", "pause": 1000}],
      ["notify", {"message": "For another neuron.",
                  "pause": 5000, "timeout": 6000}],
      ["click", {"menu": {"type": "neuClick", "label": "Gad1-F-000099"}, "pause": 3000}],
      ["click", {"selector": "#btn-pre-add-VGlut-F-500688", "pause": 3000}],
      ["notify", {"message": "And yet another.",
                  "pause": 5000, "timeout": 6000}],
      ["click", {"menu": {"type": "neuClick", "label": "Cha-F-100383"}, "pause": 3000}],
      ["click", {"selector": "#btn-pre-add-VGlut-F-000270", "pause": 3000}],
      ["notify", {"message": "Done! Explore it yourself!", "pause": 5000}]
    ],
    "neuron3d": true,
    "keyword": "Fig 3b. A Visual Pathway to EB",
    "description": "Constructing a visual pathway to EB from connectome data based on Sun et al. (2017).",
    "category": "Exploring the structure of 2 figures in 'The Fruit Fly Brain Observatory: From Structure to Function'. DOI: 10.1101/580290"
  }
}
]
