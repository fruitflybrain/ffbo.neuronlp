[
{"branch": "flywire"},
{
  "neuropil_menu": {
    "script": [
      ["notify", {"message": "The Neuropil menu accessible from the Header Bar lists all neuropils."}],
      ["notify", {"message": "This menu can be used to control the neuropils displayed in the visualization panel."}],
      ["notify", {"message": "First we hide all neuropils"}],
      ["click", {"menu": {"type": "lpuHideAll"}}],
      ["notify", {"message": "Next we toggle a few neuropils"}],
      ["click", {"menu": {"type": "lpuToggle", "label": "EB"}}],
      ["click", {"menu": {"type": "lpuToggle", "label": "PB"}}],
      ["click", {"menu": {"type": "lpuToggle", "label": "FB"}}],
      ["notify", {"message": "Finally we show all neuropils"}],
      ["click", {"menu": {"type": "lpuShowAll"}}],
      ["notify", {"message": "Done! Try it yourself!", "pause": 0}]
    ],
    "keyword": "Neuropil Menu",
    "description": "Access the list of neuropils.",
    "category": "GUI Usage"
  },
  "neuron_menu": {
    "script": [
      ["notify", {"message": "The Neurons/Synapses menu accessible from the Header Bar lists all neurons and synapses visualized in the visualization panel."}],
      ["notify", {"message": "It is useful to highlight, hide, pin neurons of interest when the view in the visualization panel becomes cluttered."}],
      ["notify", {"message": "First we visualize some neurons."}],
      ["search", {"query": "show EL neurons"}],
      ["notify", {"message": "Now we open the Neurons/Synapses Menu and click on one of the neurons"}],
      ["click", {"menu": {"type": "neuClick", "label": "EL_R_1"}}],
      ["notify", {"message": "This has the same effect of clicking on the neuron in the 3D visualization."}],
      ["notify", {"message": "and brings up the info panel for this neuron."}],
      ["notify", {"message": "We can hide the neuron"}],
      ["click", {"menu": {"type": "visToggle", "label": "EL_R_1"}}],
      ["notify", {"message": "reveal the neuron"}],
      ["click", {"menu": {"type": "visToggle", "label": "EL_R_1"}}],
      ["notify", {"message": "pin the neuron"}],
      ["click", {"menu": {"type": "pinToggle", "label": "EL_R_1"}}],
      ["notify", {"message": "unpin the neuron"}],
      ["click", {"menu": {"type": "pinToggle", "label": "EL_R_1"}}],
      ["notify", {"message": "and delete the neuron"}],
      ["click", {"menu": {"type": "remove", "label": "EL_R_1"}}],
      ["notify", {"message": "Done! Try it yourself!", "pause": 0}]
    ],
    "keyword": "Neurons/Synapses Menu",
    "description": "Access the list of neurons and synapses in the visualization panel to highlight, retrieve info of, pin, hide and delete individual neurons.",
    "category": "GUI Usage"
  },
  "celltype_menu": {
    "script": [
      ["notify", {"message": "The Cell Types Menu accessible from the Header Bar lists all cell types present in each Neuropil."}],
      ["notify", {"message": "Most cells are only designated under one neuropil, hence some neuropils might not display any cell type."}],
      ["notify", {"message": "This menu can also be helpful when exploring the dataset without prior knowledge about any cell type"}],
      ["notify", {"message": "Let's begin by navigating to the Cell Type Menu"}],
      ["click", {"menu": {"type": "cellTypes"}}],
      ["notify", {"message": "and select AL(L) (left antenna lobe)"}],
      ["click", {"menu": {"type": "toggleCellType", "neuropil": "AL_L", "label": "AL-AST1"}}],
      ["notify", {"message": "Done! Try it yourself!", "pause": 0}]
    ], 
    "keyword": "Cell Types Menu",
    "description": "Access the list of Cell Type that arborizes in each Neuropil",
    "category": "GUI Usage"
  },
  "pin_select_highlight": {
    "script": [
      ["notify", {"message": "You can use your mouse to navigate through neurons in the visualization panel."}],
      ["notify", {"message": "Let's first bring up some neurons!"}],
      ["search", {"query": "Show EL"}],
      ["notify", {"message": "To highlight a neuron, move mouse cursor onto the displayed neuron."}],
      ["highlight", {"label": "EL_R_2"}],
      ["notify", {"message": "Let's try another neuron."}],
      ["highlight", {"label": "EL_L_3"}],
      ["notify", {"message": "To obtain the detailed info about this neuron, single click on the neuron."}],
      ["click", {"label": "EL_L_3"}],
      ["notify", {"message": "Info Panel on the left will display basic info of the neuron, and the synaptic partners of the neuron. Check out the 'Info Panel' demo for more information on how to use the Info Panel", "pause": 10000}],
      ["notify", {"message": "Double-clicking a neuron pins the neuron."}],
      ["pin", {"label": "EL_L_3"}],
      ["highlight", {"label": "EL_L_3"}],
      ["notify", {"message": "Double-clicking it again to unpin."}],
      ["pin", {"label": "EL_L_3"}],
      ["notify", {"message": "Done! Try it yourself!", "pause": 0}]
    ],
    "keyword": "Pin/Select/Highlight",
    "description": "Mouse operations in the visualization panel to highlight, retrieve info of, pin and delete individual neurons.",
    "category": "GUI Usage"
  },
  "gui_buttons": {
    "script": [
      ["notify", {"message": "Here we show the function of the buttons on the top right."}],
      ["notify", {"message": "Clicking on the <i class=\"fa fa-info-circle\"><\/i> button, the GUI Usage Info will pop out."}],
      ["click", {"uiBtn": {"type": "showInfo"}}],
      ["notify", {"message": "Now let's make a simple query"}],
      ["search", {"query": "show EPG"}],
      ["search", {"query": "add PEG"}],
      ["notify", {"message": "We can use the <i class=\"fa fa-binoculars\"><\/i> button zoom into the neurons visualized."}],
      ["notify", {"message": "Let's take a screenshot of the visualization using the <i class=\"fa fa-camera\"><\/i> button ."}],
      ["click", {"uiBtn": {"type": "takeScreenshot"}}],
      ["notify", {"message": "We can reset the view to the original by clicking on <i class=\"fa fa-refresh\"><\/i> button."}],
      ["click", {"uiBtn": {"type": "resetView"}}],
      ["notify", {"message": "Now we will pin some of the neurons"}],
      ["search", {"query": "pin PEG"}],
      ["notify", {"message": "We can hide everything but the pinned neurons using the <i class=\"fa fa-eye-slash\"><\/i> button"}],
      ["click", {"uiBtn": {"type": "hideAll"}}],
      ["notify", {"message": "and reveal everything in the visualization panel using the <i class=\"fa fa-eye\"><\/i> button"}],
      ["click", {"uiBtn": {"type": "showAll"}}],
      ["notify", {"message": "We can remove all neurons except the pinned neurons by the <i class=\"fa fa-trash\"><\/i> button"}],
      ["click", {"uiBtn": {"type": "removeUnpin"}}],
      ["notify", {"message": "To remove pinned neurons but keep unpinned neurons, you will need to use the Neurons/Synapses Menu."}],
      ["click", {"menu": {"type": "pinRemove"}}],
      ["notify", {"message": "Done! Try it yourself!", "pause": 0}]
    ],
    "keyword": "Visualization Panel Buttons",
    "description": "Function of the GUI button <i class=\"fa fa-trash\"><\/i> <i class=\"fa fa-eye-slash\"><\/i> <i class=\"fa fa-eye\"><\/i> <i class=\"fa fa-binoculars\"><\/i> <i class=\"fa fa-refresh\"><\/i> <i class=\"fa fa-info-circle\"><\/i> <i class=\"fa fa-camera\"><\/i> on the top right.",
    "category": "GUI Usage"
  },
  "connectivity_1": {
    "script": [
      ["notify", {"message": "Let's explore some connectivity in the ellipsoid body", "pause": 1000}],
      ["search", {"query": "show EPG"}],
      ["search", {"query": "color red"}],
      ["notify", {"message": "We then add ER4d", "pause": 2000}],
      ["search", {"query": "add ER4d neurons"}],
      ["search", {"query": "color blue"}],
      ["search", {"query": "add ER2 neurons"}],
      ["search", {"query": "color lime"}],
      ["search", {"query": "add ExR1 neurons"}],
      ["search", {"query": "color yellow"}],
      ["notify", {"message": "Now let's open Graph View to see the neuronal-level graph with the <i class=\"fa fa-connectdevelop\"><\/i> button.", "pause": 6000}],
      ["click", {"uiBtn": {"type": "showGraph"}}],
      ["notify", {"message": "You can also visualize the graph at the cell-type level using the <i class=\"fa fa-cubes\"><\/i> button."}],
      ["click", {"uiBtn": {"type": "showCellGraph"}}],
      ["notify", {"message": "Now let's download the connectivity between these neurons by using the <i class='fa fa-download'></i> button", "pause": 1000}],
      ["click", {"uiBtn": {"type": "downData"}, "waitForUI": true}],
      ["notify", {"message": "Done! Try it yourself!", "pause": 5000}]
    ],
    "keyword": "Graph View / Connectivity Buttons",
    "description": "Explore the connectivity of visualized neurons with <i class=\"fa fa-cubes\"><\/i> <i class=\"fa fa-connectdevelop\"><\/i> <i class=\"fa fa-download\"><\/i> buttons",
    "category": "GUI Usage"
  },
  "visualization_settings": {
    "script": [
      ["notify", {"message": "The settings menu can be accessed by clicking on <i class='fa fa-cog'></i> icon on the top right"}],
      ["click", {"uiBtn": {"type": "showSettings"}}],
      ["notify", {"message": "Browse through the setting to see what settings can be customized."}],
      ["notify", {"message": "Done! Try it yourself!", "pause": 0}]
    ],
    "keyword": "Visualization Settings",
    "description": "Open Visualization Settings <i class=\"fa fa-cog\"><\/i> to change background color, neuropil color, how neurons are rendered, etc.",
    "category": "GUI Usage"
  },
  "query_reference": {
    "script": [
      ["notify", {"message": "A reference of supported English queries can be found by clicking on the <i class=\"glyphicon glyphicon-info-sign\"><\/i> button left to the search bar."}],
      ["click", {"selector": "#info_btn"}],
      ["notify", {"message": "Done! Try it yourself!", "pause": 0}]
    ],
    "keyword": "Query Reference",
    "description": "Open query reference <i class=\"glyphicon glyphicon-info-sign\"><\/i>.",
    "category": "GUI Usage"
  },
  "infopanel": {
    "script": [
      ["notify", {"message": "Info Panel provides all information available of a neuron."}],
      ["search", {"query": "show EL"}],
      ["notify", {"message": "Simply click on the neuron in the visualization panel or from the Neurons/Synapses menu to bring up its information."}],
      ["click", {"label": "EL_R_1"}],
      ["notify", {"message": "You can bring up one of pre- and post-synaptic partner by clicking on the + button in the list of partners."}],
      ["click", {"selector": "#btn-pre-add-EPG_R_20"}],
      ["click", {"selector": "#btn-pre-add-ExR6_R_1"}],
      ["notify", {"message": "You can bring up or remove all of its pre- and post-synaptic partner according to the filtered value."}],
      ["click", {"selector": "#presyn-N"}],
      ["notify", {"message": "And remove them."}],
      ["click", {"selector": "#btn-pre-remove-all-neuron"}],
      ["search", {"query": "color EL blue"}],
      ["notify", {"message": "We can also add synapses. For example, let's add all postsynaptic sites of this neuron and color them white."}],
      ["click", {"selector": "#btn-pre-add-all-synapse"}],
      ["search", {"query": "color red"}],
      ["notify", {"message": "We then add all presynaptic sites of this neuron and color them yellow."}],
      ["click", {"selector": "#btn-post-add-all-synapse"}],
      ["search", {"query": "color lime"}],
      ["notify", {"message": "Done! Try it yourself!", "pause": 0}]
    ],
    "keyword": "Info Panel",
    "description": "Bring up Info Panel for the neuron to access detail information about neurons and their synaptic partners.",
    "category": "GUI Usage"
  },
  "show_1": {
    "keyword": "Show",
    "script": [
      ["notify", {"message": "Hi there!"}],
      ["notify", {"message": "Let's query for a type of ring neuron called ER4d!"}],
      ["search", {"query": "show ER4d"}],
      ["notify", {"message": "'Show' always clears the visualization panel before visualizing the neurons in the query!"}],
      ["notify", {"message": "Let's try using 'Show' again."}],
      ["search", {"query": "Show PEG"}],
      ["notify", {"message": "Done. Compare this with the 'Add' demo!", "pause": 1000}],
      ["notify", {"message": "Try it yourself!", "pause": 0}]
    ],
    "description": "Clear the work space and visualize neurons according to a specific query.",
    "category": "Basic Rule-based English Queries (Supported Verbs)"
  },
  "add_1": {
    "keyword": "Add",
    "script": [
      ["notify", {"message": "Hi!"}],
      ["notify", {"message": "Let's query for a type of ring neuron called ER4d!"}],
      ["search", {"query": "show ER4d"}],
      ["notify", {"message": "'Add' visualizes the neurons in the query on top of what's in the visualization panel!"}],
      ["notify", {"message": "Let's try using adding some neurons."}],
      ["search", {"query": "Add PEG"}],
      ["notify", {"message": "Done", "pause": 1000}],
      ["notify", {"message": "It is all yours now! Try it yourself!", "pause": 0}]
    ],
    "description": "In addition to what is currently displayed, visualize the neurons according to a specific query",
    "category": "Basic Rule-based English Queries (Supported Verbs)"
  },
  "undo_1": {
    "keyword": "Undo",
    "script": [
      ["notify", {"message": "Hi!"}],
      ["notify", {"message": "Let's query for mushroom body output neurons (MBONs) in the medial lobe of the left Mushroom body."}],
      ["search", {"query": "Show MBON in the left medial lobe"}],
      ["notify", {"message": "Now let's add dopaminergic neurons (DANs) in the same compartment."}],
      ["search", {"query": "Add DAN that has output in the left medial lobe"}],
      ["notify", {"message": "Now let's undo what we just did."}],
      ["search", {"query": "Undo"}],
      ["notify", {"message": "Now let's add the DANs that are presynaptic to any of the MBONs in the workspace and provide at least 200 synapses in the connection."}],
      ["search", {"query": "Add presynaptic DANs with at least 200 synapses."}],
      ["notify", {"message": "Done", "pause": 1000}],
      ["notify", {"message": "It is all yours now! Try it yourself!", "pause": 0}]
    ],
    "description": "Go back to a previous step (UNDO).",
    "category": "Basic Rule-based English Queries (Supported Verbs)"
  },
  "keep_1": {
    "keyword": "Keep",
    "script": [
      ["notify", {"message": "Hi!"}],
      ["notify", {"message": "Let's query for EL neurons in the ellipsoid body!"}],
      ["search", {"query": "Show EL neurons"}],
      ["notify", {"message": "Now let's only keep those presynaptic to a specific EPG neuron"}],
      ["search", {"query": "Keep EL neurons presynaptic to $EPG_R_4$"}],
      ["notify", {"message": "Done", "pause": 1000}],
      ["notify", {"message": "It is all yours now! Try it yourself!", "pause": 0}]
    ],
    "description": "Filter neurons in the current visualization panel based on a specific query.",
    "category": "Basic Rule-based English Queries (Supported Verbs)"
  },
  "remove_1": {
    "keyword": "Remove",
    "script": [
      ["notify", {"message": "Hi!"}],
      ["notify", {"message": "Let's query for EL neurons in the ellipsoid body!"}],
      ["search", {"query": "Show EL neurons"}],
      ["notify", {"message": "Now let's remove those that are presynaptic to a specific EPG neuron"}],
      ["search", {"query": "Remove EL neurons presynaptic to $EPG_R_4$"}],
      ["notify", {"message": "Done", "pause": 1000}],
      ["notify", {"message": "It is all yours now! Try it yourself!", "pause": 0}]
    ],
    "description": "Remove neurons from the current visualization panel based on a specific query.",
    "category": "Basic Rule-based English Queries (Supported Verbs)"
  },
  "pinunpin_1": {
    "keyword": "Pin/Unpin",
    "script": [
      ["notify", {"message": "Hi!"}],
      ["notify", {"message": "Let's query for EL neurons in the ellipsoid body!"}],
      ["search", {"query": "Show EL neurons"}],
      ["notify", {"message": "Now let's pin the ones that are presynaptic to R5 ring neurons."}],
      ["search", {"query": "Pin neurons presynaptic to ER5 neurons"}],
      ["notify", {"message": "You can remove the unpinned neurons by the <i class=\"fa fa-trash\"><\/i> button."}],
      ["click", {"uiBtn": {"type": "removeUnpin"}}],
      ["notify", {"message": "Now let's unpin the pinned neurons."}],
      ["search", {"query": "Unpin EL"}],
      ["notify", {"message": "Done", "pause": 1000}],
      ["notify", {"message": "It is all yours now! Try it yourself!", "pause": 0}]
    ],
    "description": "Pin (Persistently highlight) or Unpin neurons in the current visualization panel based on a specific query.",
    "category": "Basic Rule-based English Queries (Supported Verbs)"
  },
  "hide_1": {
    "keyword": "Hide/unhide",
    "script": [
      ["notify", {"message": "Hi!"}],
      ["notify", {"message": "Let's query for EPG neurons"}],
      ["search", {"query": "Show EPG neurons"}],
      ["notify", {"message": "Let's hide the ones that innervate the right gall neuropil"}],
      ["search", {"query": "hide neurons innervating right gall"}],
      ["notify", {"message": "Now let's reveal all the EPG neurons again"}],
      ["search", {"query": "unhide EPG neurons"}],
      ["notify", {"message": "Done", "pause": 1000}],
      ["notify", {"message": "It is all yours now! Try it yourself!", "pause": 0}]
    ],
    "description": "Hide or reveal neurons in the current visualization panel based on a specific query.",
    "category": "Basic Rule-based English Queries (Supported Verbs)"
  },
  "color_1": {
    "keyword": "Color",
    "script": [
      ["notify", {"message": "Hi!"}],
      ["notify", {"message": "Let's query for EPG neurons!"}],
      ["search", {"query": "Show EPG"}],
      ["notify", {"message": "Now let's color them red."}],
      ["search", {"query": "Color red"}],
      ["notify", {"message": "If only a color is specified, the last queried neurons will be colored."}],
      ["notify", {"message": "Neurons to be colored can also be specified. For example, we can color only the neurons with inputs in left gall blue, using the hex code for blue."}],
      ["search", {"query": "Color neurons that has inputs in left gall 0000FF"}],
      ["notify", {"message": "Done", "pause": 1000}],
      ["notify", {"message": "It is all yours now! Try it yourself!", "pause": 0}]
    ],
    "description": "Color neurons in the current visualization panel based on a specific query",
    "category": "Basic Rule-based English Queries (Supported Verbs)"
  },
  "clear_1": {
    "keyword": "Clear",
    "script": [
      ["notify", {"message": "Hi!"}],
      ["notify", {"message": "Let's query for PEG neurons!"}],
      ["search", {"query": "Show PEG neurons"}],
      ["notify", {"message": "Now we clear the visualization panel."}],
      ["search", {"query": "Clear"}],
      ["notify", {"message": "Done", "pause": 1000}],
      ["notify", {"message": "It is all yours now! Try it yourself!", "pause": 0}]
    ],
    "description": "Clear out the visualization panel.",
    "category": "Basic Rule-based English Queries (Supported Verbs)"
  },
  "basic_query1": {
    "keyword": "Name-based Queries",
    "script": [
      ["notify", {"message": "Hi there!"}],
      ["notify", {"message": "A quick way to find neurons whose name contains a string is to use the $$ syntax.", "pause": 5000}],
      ["notify", {"message": "The following query searches for all neurons whose name contains the string 'MBON'.", "pause": 5000}],
      ["search", {"query": "show $MBON$"}],
      ["notify", {"message": "Regular expression can be used with the syntax /rRE/r, where RE should be replaced by the regex string. The following query is the equivalent to the previous one:", "pause": 5000}],
      ["search", {"query": "show /r(.*)MBON(.*)/r"}],
      ["notify", {"message": "Since MBON is a commonly known neuron type, one can also search for MBONs with the following query", "pause": 5000}],
      ["search", {"query": "show MBON"}],
      ["notify", {"message": "Try it yourself!", "pause": 0}]
    ],
    "description": "Query with string match, Regular Expression, and commonly known names of neuron types",
    "category": "Basic Rule-based English Queries (Specifying what you want to search for)"
  },
  "basic_query2": {
  "keyword": "FlyWire BodyID-based Queries",
  "script": [
    ["notify", {"message": "Hi there!"}],
    ["notify", {"message": "Let's load multiple neurons using their FlyWire Body IDs.", "pause": 1000}],
    ["search", {"query": "show /:referenceId:[720575940642634532, 720575940604801993, 720575940610453427, 720575940614926475]"}],
    ["notify", {"message": "Try it yourself!", "pause": 0}]
  ],
  "description": "Load a list of neurons using their Hemibrain Body IDs using: show /:referenceId:[bodyId1, bodyId2, ...]",
  "category": "Basic Rule-based English Queries (Specifying what you want to search for)"
},
  "basic_query3": {
    "keyword": "Arborization-based Queries",
    "script": [
      ["notify", {"message": "Hi there!"}],
      ["notify", {"message": "Let's show neurons that have inputs sites in EB and output sites in NO", "pause": 5000}],
      ["search", {"query": "show neurons that have inputs in NO and outputs in EB"}],
      ["notify", {"message": "Try it yourself!", "pause": 0}]
    ],
    "description": "Query neurons based on arborization patterns.",
    "category": "Basic Rule-based English Queries (Specifying what you want to search for)"
  },
  "basic_query4": {
    "keyword": "Synaptic Partners-based Queries",
    "script": [
      ["notify", {"message": "Hi there!"}],
      ["notify", {"message": "Let's display an EPG (EB-PB-LAL) neuron."}],
      ["search", {"query": "show $EPG_R_21$"}],
      ["notify", {"message": "To add PEG (PB-EB-LAL) neurons that are postsyaptic to the neurons in the current workspace, and has at least 10 synapses from any one of these neurons, we use the following query.", "pause": 1000}],
      ["search", {"query": "add postsynaptic PEG neurons with at least 10 synapses"}],
      ["notify", {"message": "Try it yourself!", "pause": 0}]
    ],
    "description": "Query neurons based on synaptic partners",
    "category": "Basic Rule-based English Queries (Specifying what you want to search for)"
  },
  "flywire_1": {
    "keyword": "T4a",
    "script": [
      ["notify", {"message": "Hi there!"}],
      ["notify", {"message": "Let's query for T4a neurons!"}],
      ["search", {"query": "show T4a"}],
      ["notify", {"message": "We can also restrict the query to T4a neurons in the right medulla"}],
      ["search", {"query": "show $T4a_R$ neurons"}],
      ["notify", {"message": "Try it yourself!", "pause": 0}]
    ],
    "description": "Show T4a neurons.",
    "category": "Early Visual System"
  },
  "flywire_2": {
    "keyword": "Mi1",
    "script": [
      ["notify", {"message": "Hi there!"}],
      ["notify", {"message": "Let's query for Mi1 neurons in medulla!"}],
      ["search", {"query": "show Mi1"}],
      ["notify", {"message": "Try it yourself!", "pause": 0}]
    ],
    "description": "Show Mi1 neurons.",
    "category": "Early Visual System"
  },
  "flywire_3": {
    "keyword": "L3",
    "script": [
      ["notify", {"message": "Hi there!"}],
      ["notify", {"message": "Let's query for L3 neurons innervating lamina and medulla!"}],
      ["search", {"query": "Show L3"}],
      ["notify", {"message": "Try it yourself!", "pause": 0}]
    ],
    "description": "Show L3 neurons.",
    "category": "Early Visual System"
  },
  "flywire_4": {
    "keyword": "LPLC2",
    "script": [
      ["notify", {"message": "Hi there!"}],
      ["notify", {"message": "Let's query for LPLC2 neurons in lobulla plate!"}],
      ["search", {"query": "show LPLC2"}],
      ["notify", {"message": "Try it yourself!", "pause": 0}]
    ],
    "description": "Show LPLC2 neurons.",
    "category": "Early Visual System"
  }
}
]
